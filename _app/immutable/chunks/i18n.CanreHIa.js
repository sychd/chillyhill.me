import{aj as C,ap as le,aq as de,G as L,ar as ge,al as x,as as p,at as F,_ as T,q as G,au as _e,Q as ve,i as he,av as me,F as ae,O as X,aw as be,ax as pe,ay as we,az as ye,X as Q,aA as xe,aB as Te,a7 as Z,aC as Se,aD as Le,aE as Pe,aF as Ie,ak as Re,a0 as J,aG as Ee,aH as Oe}from"./runtime.DVXmTssb.js";import{s as $e,a as Be,g as je}from"./entry.lNZLkU2O.js";import"./disclose-version.CFYEnLtd.js";import"./legacy.Cl-uuIUX.js";import{b as j}from"./paths.lQ22ZsH5.js";function O(e,t=null,n){if(typeof e!="object"||e===null||C in e)return e;const s=ve(e);if(s!==le&&s!==de)return e;var i=new Map,c=he(e),l=L(0);c&&i.set("length",L(e.length));var d;return new Proxy(e,{defineProperty(r,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&ge();var o=i.get(a);return o===void 0?(o=L(u.value),i.set(a,o)):x(o,O(u.value,d)),!0},deleteProperty(r,a){var u=i.get(a);if(u===void 0)a in r&&i.set(a,L(p));else{if(c&&typeof a=="string"){var o=i.get("length"),f=Number(a);Number.isInteger(f)&&f<o.v&&x(o,f)}x(u,p),V(l)}return!0},get(r,a,u){var v;if(a===C)return e;var o=i.get(a),f=a in r;if(o===void 0&&(!f||(v=F(r,a))!=null&&v.writable)&&(o=L(O(f?r[a]:p,d)),i.set(a,o)),o!==void 0){var g=T(o);return g===p?void 0:g}return Reflect.get(r,a,u)},getOwnPropertyDescriptor(r,a){var u=Reflect.getOwnPropertyDescriptor(r,a);if(u&&"value"in u){var o=i.get(a);o&&(u.value=T(o))}else if(u===void 0){var f=i.get(a),g=f==null?void 0:f.v;if(f!==void 0&&g!==p)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(r,a){var g;if(a===C)return!0;var u=i.get(a),o=u!==void 0&&u.v!==p||Reflect.has(r,a);if(u!==void 0||G!==null&&(!o||(g=F(r,a))!=null&&g.writable)){u===void 0&&(u=L(o?O(r[a],d):p),i.set(a,u));var f=T(u);if(f===p)return!1}return o},set(r,a,u,o){var w;var f=i.get(a),g=a in r;if(c&&a==="length")for(var v=u;v<f.v;v+=1){var b=i.get(v+"");b!==void 0?x(b,p):v in r&&(b=L(p),i.set(v+"",b))}f===void 0?(!g||(w=F(r,a))!=null&&w.writable)&&(f=L(void 0),x(f,O(u,d)),i.set(a,f)):(g=f.v!==p,x(f,O(u,d)));var _=Reflect.getOwnPropertyDescriptor(r,a);if(_!=null&&_.set&&_.set.call(o,u),!g){if(c&&typeof a=="string"){var h=i.get("length"),I=Number(a);Number.isInteger(I)&&I>=h.v&&x(h,I+1)}V(l)}return!0},ownKeys(r){T(l);var a=Reflect.ownKeys(r).filter(f=>{var g=i.get(f);return g===void 0||g.v!==p});for(var[u,o]of i)o.v!==p&&!(u in r)&&a.push(u);return a},setPrototypeOf(){_e()}})}function V(e,t=1){x(e,e.v+t)}let D=!1;function vt(e,t,n){const s=n[t]??(n[t]={store:null,source:ae(void 0),unsubscribe:X});if(s.store!==e)if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=X;else{var i=!0;s.unsubscribe=$e(e,c=>{i?s.source.v=c:x(s.source,c)}),i=!1}return T(s.source)}function ht(){const e={};return me(()=>{for(var t in e)e[t].unsubscribe()}),e}function De(e){var t=D;try{return D=!1,[e(),D]}finally{D=t}}function ee(e){for(var t=G,n=G;t!==null&&!(t.f&(xe|Te));)t=t.parent;try{return Z(t),e()}finally{Z(n)}}function mt(e,t,n,s){var B;var i=(n&Se)!==0,c=!Le||(n&Pe)!==0,l=(n&Ie)!==0,d=(n&Oe)!==0,r=!1,a;l?[a,r]=De(()=>e[t]):a=e[t];var u=C in e||Re in e,o=((B=F(e,t))==null?void 0:B.set)??(u&&l&&t in e?m=>e[t]=m:void 0),f=s,g=!0,v=!1,b=()=>(v=!0,g&&(g=!1,d?f=Q(s):f=s),f);a===void 0&&s!==void 0&&(o&&c&&be(),a=b(),o&&o(a));var _;if(c)_=()=>{var m=e[t];return m===void 0?b():(g=!0,v=!1,m)};else{var h=ee(()=>(i?J:Ee)(()=>e[t]));h.f|=pe,_=()=>{var m=T(h);return m!==void 0&&(f=void 0),m===void 0?f:m}}if(!(n&we))return _;if(o){var I=e.$$legacy;return function(m,E){return arguments.length>0?((!c||!E||I||r)&&o(E?_():m),m):_()}}var w=!1,R=!1,$=ae(a),S=ee(()=>J(()=>{var m=_(),E=T($);return w?(w=!1,R=!0,E):(R=!1,$.v=m)}));return i||(S.equals=ye),function(m,E){if(arguments.length>0){const M=E?T(S):c&&l?O(m):m;return S.equals(M)||(w=!0,x($,M),v&&f!==void 0&&(f=M),Q(()=>T(S))),m}return T(S)}}let K;const ie="en",se=["en","de","uk","ru"];let N=()=>ie;const Ae=e=>{typeof e=="function"?N=te(e):N=te(()=>e),K!==void 0&&K(N())};function te(e){return()=>{const t=e();if(!ue(t))throw new Error("languageTag() didn't return a valid language tag. Check your setLanguageTag call");return t}}const Ce=e=>{K=e};function ue(e){return se.includes(e)}const Fe=Object.freeze(Object.defineProperty({__proto__:null,availableLanguageTags:se,isAvailableLanguageTag:ue,get languageTag(){return N},onSetLanguageTag:Ce,setLanguageTag:Ae,sourceLanguageTag:ie},Symbol.toStringTag,{value:"Module"})),Ne=()=>{const e=Be;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},We={subscribe(e){return Ne().page.subscribe(e)}};function ze(e,t){if(e==="")return"";const n=new URL(e,t).pathname;return n.endsWith("/")?n.slice(0,-1):n}function W(e,t){const n=qe(e),s=Me(n,t),[i,c]=Ue(s);return[i,c]}const H=(e,t,n)=>[t,e,n??""].filter(s=>s!=="/").join("")||"/";function Me(e,t){const n=e.replace(t,"");return n.startsWith("/")?n:`/${n}`}function Ue(e){const n=["/.html__data.json","/__data.json"].find(s=>e.endsWith(s));return n?[e.slice(0,-n.length)||"/",n]:[e,void 0]}function qe(e){try{return decodeURI(e)}catch{return e}}const ke=e=>({url:t})=>{try{const[n,s]=W(t.pathname,j),i=e.getLanguageFromLocalisedPath(n);if(!i)return t.pathname;const c=e.getCanonicalPath(n,i);return H(c,j,s)}catch{return t.pathname}};function Ye(e){return`/${e.split("/").filter(Boolean).join("/")}`}function Ge(e){const t=e.map(n=>typeof n=="string"?s=>s===n:s=>n.test(s));return n=>t.some(s=>s(Ye(n)))}const A="rtl",U="ltr";function Ke(e){try{const t=new Intl.Locale(e);return"textInfo"in t?t.textInfo.direction===A?A:U:t.getTextInfo().direction===A?A:U}catch{return U}}function He(e){const t=e.map(n=>[n,Ke(n)]);return Object.fromEntries(t)}const Xe=0,ne=1,z=2,Qe=4,y=0,P=1,q=2;function Ze(e){const t=Je(Ve);return e.sort((n,s)=>{var i,c,l,d,r,a;const u=re(n).map(t),o=re(s).map(t);for(let f=0;f<Math.max(u.length,o.length);f+=1){const g=u[f],v=o[f];if(!g)return-1;if(!v)return 1;for(let b=0;b<Math.max(g.length,v.length);b+=1){const _=g[b],h=v[b];if((_==null?void 0:_[y])||(h==null?void 0:h[y])){if(!_)return-1;if(!h)return 1;const w=((i=g[b+1])==null?void 0:i[P])||((l=(c=u[f+1])==null?void 0:c[0])==null?void 0:l[P]),R=((d=v[b+1])==null?void 0:d[P])||((a=(r=o[f+1])==null?void 0:r[0])==null?void 0:a[P]),$=w&&R,S=w&&!R,B=!w&&R;if((_[y]&&h[y])===z){if($)continue;if(S)return-1;if(B)return 1}if(_[y]===z)return S?-1:1;if(h[y]===z)return B?1:-1;if(_[q]!==h[q])return(-1)**+_[q];if(_[y]!==h[y])return(-1)**+(_[y]>h[y])}else if((_==null?void 0:_[P])!==(h==null?void 0:h[P]))return et(_[P],h[P])}}return n<s?1:-1})}function Je(e){const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}function Ve(e){const t=[];let n=0;for(;n<=e.length;){const s=e.indexOf("[",n),i=s===-1;if(t.push([Xe,e.slice(n,i?void 0:s),!1]),i)break;const c=e[s+1]==="["?ne:e[s+1]==="."?z:Qe,l=c===ne?"]]":"]",d=e.indexOf(l,s);if(d===-1)throw new Error(`Invalid route definition ${e}`);const r=e.slice(s,n=d+l.length);t.push([c,r,r.includes("=")])}return t}const re=e=>e.replace(/\[\[[^\]]+\]\](?!$)/g,"").split("/").filter(Boolean);function et(e,t){if(e===t)return 0;let n=0;for(;e[n]===t[n];)n++;return e[n]?t[n]?e[n]<t[n]?-1:1:-1:1}const tt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function nt(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${fe(e).map(s=>{const i=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(s);if(i)return t.push({name:i[1],matcher:i[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const c=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(s);if(c)return t.push({name:c[1],matcher:c[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!s)return;const l=s.split(/\[(.+?)\](?!\])/);return"/"+l.map((r,a)=>{if(a%2){if(r.startsWith("x+"))return k(String.fromCharCode(parseInt(r.slice(2),16)));if(r.startsWith("u+"))return k(String.fromCharCode(...r.slice(2).split("-").map(b=>parseInt(b,16))));const u=tt.exec(r);if(!u)throw new Error(`Invalid param: ${r}`);const[,o,f,g,v]=u;return t.push({name:g,matcher:v,optional:!!o,rest:!!f,chained:f?a===1&&l[0]==="":!1}),f?"(.*?)":o?"([^/]*)?":"([^/]+?)"}return k(r)}).join("")}).join("")}/?$`),params:t}}function rt(e,t,n){const s={},i=e.slice(1),c=i.filter(d=>d!==void 0);let l=0;for(const[d,r]of t.entries()){let a=i[d-l];if(r.chained&&r.rest&&l&&(a=i.slice(d-l,d+1).filter(o=>o).join("/"),l=0),a===void 0){r.rest&&(s[r.name]="");continue}if(r.matcher&&!n[r.matcher])return;if((n[r.matcher]??(()=>!0))(a)){s[r.name]=a;const o=t[d+1],f=i[d+1];o&&!o.rest&&o.optional&&f&&r.chained&&(l=0),!o&&!f&&Object.keys(s).length===c.length&&(l=0);continue}if(r.optional&&r.chained){l++;continue}return}if(!l)return s}function k(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const at=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function oe(e,t){return"/"+fe(e).map(n=>n.replace(at,(s,i,c,l)=>{const d=t[l];if(!d){if(i||c&&d!==void 0)return"";throw new Error(`Missing parameter '${l}' in route ${e}`)}if(d[0]=="/"||d.endsWith("/"))throw new Error(`Parameter '${l}' in route ${e} cannot start or end with a slash`);return d})).filter(Boolean).join("/")}function ce(e,t,n){const s=Ze(t);for(const i of s){const c=nt(i),l=c.pattern.exec(it(e));if(!l)continue;const d=rt(l,c.params,n);if(d)return{params:d,id:i}}}const it=e=>e.endsWith("/")?e.slice(0,-1):e,fe=e=>e.slice(1).split("/");function st(e,t,n,s,i){function c(r){const u=r.split("/")[1];if(e.includes(u)&&(i==="always"||u!==t))return u;if(i==="never")return t}function l(r,a){const u=r.endsWith("/")&&r!=="/";r=u?r.slice(0,-1):r;let o=ot(r,a,n,s);return u&&(o+="/"),(i==="always"||a!==t)&&(o=`/${a}${o}`),o}function d(r,a){const u=r.endsWith("/")&&r!=="/";(i==="always"||a!==t)&&(r=r.replace(`/${a}`,"")||"/");const o=u;r=o?r.slice(0,-1):r;let f=ut(r,a,n,s);return o&&(f+="/"),f}return{getLanguageFromLocalisedPath:c,getLocalisedPath:l,getCanonicalPath:d}}function ut(e,t,n,s){for(const[i,c]of Object.entries(n)){if(!(t in c))continue;const l=c[t];if(!l)continue;const d=ce(e,[l],s);if(d)return oe(i,d.params)}return e}function ot(e,t,n,s){const i=ce(e,Object.keys(n),s);if(!i)return e;const c=n[i.id];if(!c)return e;const l=c[t];return l?oe(l,i.params):e}function ct(e,t){const n={},s=[],i=e.sourceLanguageTag,c={defaultLanguageTag:i,runtime:e,translations:n,matchers:{},exclude:Ge(s),prefixDefaultLanguage:"never",textDirection:He(e.availableLanguageTags),seo:{noAlternateLinks:!1}},l=st(e.availableLanguageTags,i,c.translations,c.matchers,c.prefixDefaultLanguage);return Object.freeze(n),Object.freeze(c),{config:c,strategy:l,reroute:()=>ke(l),handle:()=>{throw new Error("")},getLanguageFromUrl(d){const r=Y(j),[a]=W(d.pathname,r);return c.exclude(a)?c.defaultLanguageTag:l.getLanguageFromLocalisedPath(a)||c.defaultLanguageTag},resolveRoute(d,r=void 0){if(c.exclude(d))return d;const a=Y(j),[u,o]=W(d,a);if(r=r??e.languageTag(),!d.startsWith(a))return d;const f=l.getLocalisedPath(u,r);return H(f,a,o)},route(d){const r=Y(j),[a,u]=W(d,r),f=l.getLanguageFromLocalisedPath(a)||c.defaultLanguageTag,g=l.getCanonicalPath(a,f);return H(g,r,u)}}}function Y(e){return e===""?"":e.startsWith("/")?e:ze(e,new URL(je(We).url))}const bt=ct(Fe);export{O as a,vt as b,We as c,W as d,H as e,bt as i,ze as n,mt as p,ht as s};
